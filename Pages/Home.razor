@page "/"
@inject PlanogramDataService PlanogramData
@inject NavigationManager Navigation

<PageTitle>Planogram Photo App</PageTitle>

<div class="home-page">
    <h1>Planogram Photo App</h1>
    <p class="subtitle">Select a planogram to start taking segment photos.</p>

    <div class="planogram-list">
        @foreach (var planogram in PlanogramData.GetAllPlanograms())
        {
            <div class="planogram-card">
                <h2>@planogram.Name</h2>
                <p class="segment-count">@planogram.Segments.Count segment(s)</p>
                <button class="btn-start" @onclick="() => StartCapture(planogram.Id)">
                    Start capture
                </button>
            </div>
        }
    </div>
</div>

@code {
    private void StartCapture(string planogramId)
    {
        Navigation.NavigateTo($"/capture/{planogramId}");
    }
}
