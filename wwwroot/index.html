<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>Planogram Photo App</title>
    <base href="/" />
    <link rel="preload" id="webassembly" />
    <link rel="stylesheet" href="css/app.css" />
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />
    <!-- If you add any scoped CSS files, uncomment the following to load them
    <link href="PlanogramPhotoApp.styles.css" rel="stylesheet" /> -->
    <script type="importmap"></script>
</head>

<body>
    <!-- 404_REDIRECT: only restore when stored URL is a valid app route (prevents wrong redirect on Take photo etc.) -->
    <script>
    (function(){
      var r = sessionStorage.redirect;
      if (!r) return;
      sessionStorage.removeItem('redirect');
      try {
        var base = document.querySelector('base');
        var basePath = (base ? base.getAttribute('href') || '/' : '/').replace(/\/$/, '') || '/';
        var u = new URL(r, location.origin);
        if (u.origin !== location.origin) return;
        var path = u.pathname;
        if (basePath !== '/' && path !== basePath && path !== basePath + '/' && !path.startsWith(basePath + '/'))
          r = new URL(basePath + '/' + path.replace(/^\//, ''), location.origin).href;
        else
          r = u.href;
        var normPath = new URL(r, location.origin).pathname;
        var isBase = normPath === basePath || normPath === basePath + '/' || normPath === '/' || normPath === '';
        var isCapture = normPath.startsWith(basePath + '/capture/') || (basePath === '/' && normPath.startsWith('/capture/'));
        if (!isBase && !isCapture) return;
        window.history.replaceState(null, '', r);
      } catch (e) {}
    })();
    </script>
    <div id="app">
        <svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%" />
            <circle r="40%" cx="50%" cy="50%" />
        </svg>
        <div class="loading-progress-text"></div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="." class="reload">Reload</a>
        <span class="dismiss">ðŸ—™</span>
    </div>
    <script src="js/camera.js"></script>
    <script src="_content/MudBlazor/MudBlazor.min.js"></script>
    <script src="_framework/blazor.webassembly#[.{fingerprint}].js"></script>
</body>

</html>
